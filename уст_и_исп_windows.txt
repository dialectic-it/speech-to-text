Для решения задачи автоматического распознавания русской речи:
А) Статья: https://habr.com/ru/company/ods/blog/692246/;
Б) Открытый репо: https://github.com/openai/whisper;
В) туториал: https://github.com/openai/whisper/blob/main/notebooks/Multilingual_ASR.ipynb
Г) Решение универсально, работает для любого языка, см. документацию в А).
===================================================================================

Инструкция для установки всех зависимостей Whisper и первого использования:
0) Компьютер должен быть подключен к сети интернет. На компьютере с Windows 8/10 должна быть установлена Anaconda (https://www.anaconda.com/) с python версии >=3.8.
Откройте терминал anaconda_prompt от имени администратора. Все следующие команды будут последовательно вводятся в этот терминал.
1) Переходим в папку (предположим, она называется wps), в которой лежат файлы asr_file_processing.py и params.yml, командой (подставить ваш путь к папке wps):
cd C:\Users\user\wps
2) создаем виртуальное окружение командой:
python -m venv whisp_venv
3) активируем созданное виртуальное окружение командой:
whisp_venv\Scripts\activate.bat
4) обновляем менеджер установки пакетов/библиотек командой:
pip install --upgrade pip
5) устанавливаем библиотеки нейросетей командой (внимание, нижняя команда для вашей системы может быть другой!)
(точную формулировку команды смотреть на https://pytorch.org/get-started/locally/)
(чтобы узнать вашу версию ComputePlatform, вбейте в терминал команду: nvidia-smi):
pip3 install torch torchvision torchaudio --extra-index-url https://download.pytorch.org/whl/cu116
6) устанавливаем открытую библиотеку git (https://anaconda.org/anaconda/git) командой:
conda install -c anaconda git
7) Устанавливаем библиотеку whisper из открытого git-репозитория командой:
pip install git+https://github.com/openai/whisper.git
8) устанавливаем дополнительную библиотеку командой:
pip install ffmpeg-python
9) устанавливаем дополнительную библиотеку командой:
pip install pydub
10) устанавливаем дополнительную библиотеку командой:
pip install PyYAML
11) Перед использованием решения необходимо изменить параметры в файле params.yml
Для этого его можно открыть в любом текстовом редакторе, отредактировать и сохранить.
MODEL_NAME: medium
(все модели: tiny ~1Гб RAM; base ~1Гб RAM; small ~2Гб RAM; medium ~5Гб RAM; large ~10Гб RAM)
LANG: ru (язык распознавания - русский)
DEVICE: cuda (cpu = обработка на процессоре, cuda или cuda:0 = обработка на GPU №0)
PART_LEN: 180 (временные отрезки в секундах, на которые будут разбиваться большие аудиофайлы. Чем короче отрезок - тем меньше памяти RAM будет расходоваться)
DATAPATH: /home/data_ru (путь к папке с аудиофайлами, которые нужно транскрибировать)
FILEPATH: /home/data_ru/file1.mp3 (путь к одному аудиофайлу, который нужно транскрибировать)
RESULTPATH: /home/results_ru (путь к папке, в которую будут записываться распознанные тексты)
12) для транскрибации одного определенного аудиофайла (путь к которому прописан в params.yml, поле FILEPATH) запустить скрипт командой:
python asr_file_processing.py
13) после отработки пункта 12 в папке результатов транскрибации (путь к которой прописан в params.yml, поле RESULTPATH) появятся .txt файлы с текстом
14*) (необязательно) чтобы открыть юпитер-тетрадку и посмотреть пример работы нейросети, необходимо сначала установить библиотеку командой: pip install notebook
А после - открыть IDE с помощью команды: jupyter notebook
=======================================================================================================================================================

Инструкция для повседневного использования (подключение компьютера к сети интернет не требуется, если хотя бы один раз отработали пункты 12-13 с определенный именем MODEL_NAME):
0) убедиться, что ранее выполнены все пункты 0-14 из инструкции выше
1) открыть терминал anaconda_prompt (можно уже не от имени администратора) и перейти в папку wps, в которой лежат python-скрипты, файл-параметры params.yml и виртуальное окружение whisp_venv
cd C:\Users\user\wps
2) активировать виртуальное окружение со всеми установленными ранее библиотеками командой:
whisp_venv\Scripts\activate.bat
3) по необходимости изменить параметры в файле params.yml с помощью любого текстового редактора
4) для транскрибации одного определенного аудиофайла (путь к которому прописан в params.yml, поле FILEPATH) запустить скрипт командой:
python asr_file_processing.py
5) после отработки пункта 4 в папке результатов транскрибации (путь к которой прописан в params.yml, поле RESULTPATH) появятся .txt файлы с текстом
=======================================================================================================================================================

